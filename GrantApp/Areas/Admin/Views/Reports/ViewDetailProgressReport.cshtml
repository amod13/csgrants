@model GrantApp.Models.SubProgramMaster

@{
    ViewBag.Title = "ViewDeatils";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    int sn = 1;
    
}


<div class="breadcrumb-holder">
    <div class="container-fluid">
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item active">प्रगति विवरण प्रतिवेदन</li>
        </ul>
    </div>
</div>

<section>
    <div class="container-fluid">
        <!-- Page Header-->
        <header>
            <h2 class="h3 display">
                कार्यलयको नाम:
                @GrantApp.Areas.Admin.FunctionClass.GetOfficeNameByOfficeId(Model.OfficeId)
                &nbsp;&nbsp;&nbsp;(@GrantApp.Areas.Admin.FunctionClass.GetProvinceDistrictVDCMUNByOfficeID(Model.OfficeId))
            </h2>
        </header>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header d-flex align-items-center">

                        <h4 style="color:#0991f3;">
                            आयोजना/कार्यक्रमको विवरण
                        </h4>
                    </div>

                    <div class="card-body">
                        <div class="row">
                            @*<div class="col-lg-4 col-md-3 form-group"><b>आयोजना कार्यान्वयन स्थिति:</b></div>
            <div class="col-lg-8 col-md-9 form-group">@Model.appr</div>*@

                            <div class="col-lg-4 col-md-3 form-group"><b>मुलभुत क्षेत्र:</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@GrantApp.Areas.Admin.FunctionClass.GetMainSectionNameByMainSectionid(Model.MainSectionId)</div>
                            <div class="col-lg-4 col-md-3 form-group"><b>आधार/क्षेत्र:</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@CommontUtilities.GetProgramNameById(Model.ProgramId)</div>
                            <div class="col-lg-4 col-md-3 form-group"><b>आयोजना/कार्यक्रमको नाम:</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@Model.SubProgramTitle</div>
                            <div class="col-lg-4 col-md-3 form-group"><b>कूल लागत:</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@Model.TotalBudget</div>
                            <div class="col-lg-4 col-md-3 form-group"><b>लाभान्वित सम्भाब्य जनसंख्या:</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@Model.ProbableBenefitedPopulation</div>
                            <div class="col-lg-4 col-md-3 form-group"><b>अवधि (वर्ष):</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@Model.TimeDurationYear</div>
                            <div class="col-lg-4 col-md-3 form-group"><b>प्रदेश वा स्थानिय तहले व्यहोर्ने रकम:</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@Model.AmountProvinceVdc</div>
                            <div class="col-lg-4 col-md-3 form-group"><b>सहकारी तथा अन्य गैर सरकारीले व्यहोर्ने रकम:</b></div>
                            <div class="col-lg-8 col-md-9 form-group">@Model.NGOINGOAmount</div>
                            <div class="clearfix"></div>

                        </div>
                        <hr />

                        <div class="row">
                            <h4 style="color:#0991f3;">
                                प्रगति प्रतिवेदन
                            </h4>

                            <table border="1" cellpadding="0" cellspacing="0">
                                <tr height="50">
                                    <td align="center" width="150" rowspan="2">क्रस</td>
                                    <td align="center" width="150" rowspan="2">आ.व.</td>
                                    <td align="center" width="150" rowspan="2">आयोजना कार्यान्वयन स्थिति</td>
                                    <td align="center" width="150" rowspan="2">कार्यक्रमको नाम</td>
                                    <td align="center" width="150" rowspan="2">संचालन भएको स्थान</td>
                                    <td align="center" width="150" rowspan="2">स्वीकृत वजेट</td>
                                    @*<td align="center" width="300" colspan="2">अवधिको लक्ष</td>*@
                                    <td align="center" width="300" colspan="2">अवधिको प्रगति</td>
                                    <td align="center" width="150" rowspan="2">कैफियत</td>
                                    <td align="center" width="150" rowspan="2">फोटो-१</td>
                                    <td align="center" width="150" rowspan="2">फोटो-२</td>
                                    <td align="center" width="150" rowspan="2">फोटो-३</td>
                                </tr>
                                <tr height="50">
                                    @*<td align="center" width="150">भौतिक</td>
                    <td align="center" width="150">वित्तिय</td>*@
                                    <td align="center" width="150">भौतिक</td>
                                    <td align="center" width="150">वित्तिय</td>

                                </tr>
                                @foreach (var item in Model.QuadrimesterReportsDetailViewModelList)
                                {
                                    string Runningstatus = @"कार्यान्वयन भएको";
                                    if (item.AppRunningStatus == 2)
                                    {
                                        Runningstatus = @"कार्यान्वयन नभएको ";
                                    }
                                    <tr height="50">
                                        <td align="center" width="150">@sn</td>
                                        <td align="center" width="150">@item.PhaseTitle</td>
                                        <td align="center" width="150">@Runningstatus</td>
                                        <td align="center" width="150">@item.ProgramTitle</td>
                                        <td align="center" width="150">@item.ProgramConductPlace</td>
                                        <td align="center" width="150">@item.GrantedAmount</td>
                                        @*<td align="center" width="150">@item.TargetedMaterial</td>
                        <td align="center" width="150">@item.TargetedFinance</td>*@
                                        <td align="center" width="150">@item.AchievementMaterial</td>
                                        <td align="center" width="150">@item.AchievementFinance</td>
                                        <td align="center" width="150">@item.Remarks</td>

                                        @if (!string.IsNullOrEmpty(item.PictureOfProjectOne))
                                        {
                                            <td align="center" width="150">
                                                <a href="~/RequiredDocs/@item.PictureOfProjectOne" target="_blank">

                                                    <img src="~/RequiredDocs/@item.PictureOfProjectOne" height="20" width="20" />

                                                </a>
                                            </td>
                                        }
                                        else
                                        {
                                            <td align="center" width="150"></td>
                                        }
                                        @if (!string.IsNullOrEmpty(item.PictureOfProjectTwo))
                                        {
                                            <td align="center" width="150">
                                                <a href="~/RequiredDocs/@item.PictureOfProjectTwo" target="_blank">

                                                    <img src="~/RequiredDocs/@item.PictureOfProjectTwo" height="20" width="20" />

                                                </a>
                                            </td>
                                        }
                                        else
                                        {
                                            <td align="center" width="150"></td>
                                        }
                                        @if (!string.IsNullOrEmpty(item.PictureOfProjectThree))
                                        {
                                            <td align="center" width="150">
                                                <a href="~/RequiredDocs/@item.PictureOfProjectThree" target="_blank">

                                                    <img src="~/RequiredDocs/@item.PictureOfProjectThree" height="20" width="20" />

                                                </a>
                                            </td>
                                        }
                                        else
                                        {
                                            <td align="center" width="150"></td>
                                        }





                                    </tr>
                                    sn++;
                                }

                                @*<tr height="50">
                    <td align="center" width="150">Healthy</td>
                    <td align="center" width="150">70</td>
                    <td align="center" width="150">100</td>
                    <td align="center" width="150">Less than 140</td>
                </tr>
                <tr height="50">
                    <td align="center" width="150">Pre-Diabetes</td>
                    <td align="center" width="150">101</td>
                    <td align="center" width="150">126</td>
                    <td align="center" width="150">140 to 200</td>
                </tr>
                <tr height="50">
                    <td align="center" width="150">Diabetes</td>
                    <td align="center" width="150">More than 126</td>
                    <td align="center" width="150">N/A</td>
                    <td align="center" width="150">More than 200</td>
                </tr>*@
                            </table>




                        </div>


                        <div class="clearfix"></div>
                        <br />
                        <hr />

                        @foreach (var itemProjectFile in Model.QuadrimesterReportsDetailViewModelList)
                        {
                            if (itemProjectFile.AppRunningStatus == 2)
                            {
                                <div class="row">

                                    <div class="col-lg-4 col-md-3 form-group"><h4 style="color:#0991f3;"> कार्यान्वयन नहुनुको कारण (आ.व.@GrantApp.Areas.Admin.FunctionClass.GetPhaseTitelFromFiscalYearId(itemProjectFile.FiscalYearId)):</h4></div>
                                    <div class="col-lg-4 col-md-9 form-group">@itemProjectFile.NotRunningProofDoc</div>
                                    @if (itemProjectFile.NotRunningProofDoc != "")
                                    {
                                        <div class="col-lg-4 col-md-9 form-group">@Html.ActionLink(" Download", "Download", "GrantRequestForm", new { @FileName = itemProjectFile.NotRunningProofDoc }, new { @class = "fa fa-download" })</div>
                                    }
                                    else
                                    {
                                        <div class="col-lg-4 col-md-9 form-group"></div>
                                    }

                                </div>
                            }
                            else
                            {
                                <div class="row">
                                    <div class="col-lg-4 col-md-3 form-group"><h4 style="color:#0991f3;">प्रगति विवरणको फाइल (आ.व.@GrantApp.Areas.Admin.FunctionClass.GetPhaseTitelFromFiscalYearId(itemProjectFile.FiscalYearId)):</h4></div>
                                    <div class="col-lg-4 col-md-9 form-group">@itemProjectFile.ProjectFileUpload</div>
                                    @if (itemProjectFile.ProjectFileUpload != "")
                                    {
                                        <div class="col-lg-4 col-md-9 form-group">@Html.ActionLink(" Download", "Download", "GrantRequestForm", new { @FileName = itemProjectFile.ProjectFileUpload }, new { @class = "fa fa-download" })</div>
                                    }
                                    else

                                    {
                                        <div class="col-lg-4 col-md-9 form-group"></div>
                                    }
                                </div>

                                <div class="row">
                                    <div class="col-lg-4 col-md-3 form-group"><h4 style="color:#0991f3;">ठेक्का सम्झौता फाइल (आ.व.@GrantApp.Areas.Admin.FunctionClass.GetPhaseTitelFromFiscalYearId(itemProjectFile.FiscalYearId)):</h4></div>
                                    <div class="col-lg-4 col-md-9 form-group">@itemProjectFile.ContractFile</div>
                                    @if (itemProjectFile.ContractFile != "")
                                    {
                                        <div class="col-lg-4 col-md-9 form-group">@Html.ActionLink(" Download", "Download", "GrantRequestForm", new { @FileName = itemProjectFile.ContractFile }, new { @class = "fa fa-download" })</div>
                                    }
                                    else
                                    {
                                        <div class="col-lg-4 col-md-9 form-group"></div>
                                    }

                                </div>
                                <div class="row">

                                    <div class="col-lg-4 col-md-3 form-group"><h4 style="color:#0991f3;"> ठेक्का सूचना फाइल (आ.व.@GrantApp.Areas.Admin.FunctionClass.GetPhaseTitelFromFiscalYearId(itemProjectFile.FiscalYearId)):</h4></div>
                                    <div class="col-lg-4 col-md-9 form-group">@itemProjectFile.ContractNoticeFile</div>
                                    @if (itemProjectFile.ContractNoticeFile != "")
                                    {
                                        <div class="col-lg-4 col-md-9 form-group">@Html.ActionLink(" Download", "Download", "GrantRequestForm", new { @FileName = itemProjectFile.ContractNoticeFile }, new { @class = "fa fa-download" })</div>
                                    }
                                    else
                                    {
                                        <div class="col-lg-4 col-md-9 form-group"></div>
                                    }

                                </div>

                                <div class="row">

                                    <div class="col-lg-4 col-md-3 form-group"><h4 style="color:#0991f3;"> हालसम्मका भुक्तानी भैाचर (आ.व.@GrantApp.Areas.Admin.FunctionClass.GetPhaseTitelFromFiscalYearId(itemProjectFile.FiscalYearId)):</h4></div>
                                    <div class="col-lg-4 col-md-9 form-group">@itemProjectFile.BhuktaniFile</div>
                                    @if (itemProjectFile.BhuktaniFile != "")
                                    {
                                        <div class="col-lg-4 col-md-9 form-group">@Html.ActionLink(" Download", "Download", "GrantRequestForm", new { @FileName = itemProjectFile.BhuktaniFile }, new { @class = "fa fa-download" })</div>
                                    }
                                    else
                                    {
                                        <div class="col-lg-4 col-md-9 form-group"></div>
                                    }

                                </div>

                                <div class="row">

                                    <div class="col-lg-4 col-md-3 form-group"><h4 style="color:#0991f3;"> Running Bill (सारांश) (आ.व.@GrantApp.Areas.Admin.FunctionClass.GetPhaseTitelFromFiscalYearId(itemProjectFile.FiscalYearId)):</h4></div>
                                    <div class="col-lg-4 col-md-9 form-group">@itemProjectFile.RunningBillFile</div>
                                    @if (itemProjectFile.RunningBillFile != "")
                                    {
                                        <div class="col-lg-4 col-md-9 form-group">@Html.ActionLink(" Download", "Download", "GrantRequestForm", new { @FileName = itemProjectFile.RunningBillFile }, new { @class = "fa fa-download" })</div>
                                    }
                                    else
                                    {
                                        <div class="col-lg-4 col-md-9 form-group"></div>
                                    }

                                </div>
                                <div class="row">

                                    <div class="col-lg-4 col-md-3 form-group"><h4 style="color:#0991f3;">अन्तिम म्याद थप सूचना (आ.व.@GrantApp.Areas.Admin.FunctionClass.GetPhaseTitelFromFiscalYearId(itemProjectFile.FiscalYearId)):</h4></div>
                                    <div class="col-lg-4 col-md-9 form-group">@itemProjectFile.TimeExtendedFile</div>
                                    @if (itemProjectFile.TimeExtendedFile != "")
                                    {
                                        <div class="col-lg-4 col-md-9 form-group">@Html.ActionLink(" Download", "Download", "GrantRequestForm", new { @FileName = itemProjectFile.TimeExtendedFile }, new { @class = "fa fa-download" })</div>
                                    }
                                    else
                                    {
                                        <div class="col-lg-4 col-md-9 form-group"></div>
                                    }

                                </div>
                            }




                        }

                    </div>

                    <br />
                    <hr />

                    अपलोड गरिएका साईटको फोटोहरू
                    <div class="row">
                        @foreach (var item in Model.QuadrimesterReportsDetailViewModelList)
                        {
                            if (!string.IsNullOrEmpty(item.PictureOfProjectOne))
                            {
                                <a href="~/RequiredDocs/@item.PictureOfProjectOne" target="_blank">
                                    <div class="col-md-4">

                                        <img src="~/RequiredDocs/@item.PictureOfProjectOne" height="100" width="100" />
                                        <label>फोटो-१</label>
                                    </div>
                                </a>
                            }
                            if (!string.IsNullOrEmpty(item.PictureOfProjectTwo))
                            {
                                <a href="~/RequiredDocs/@item.PictureOfProjectTwo" target="_blank">

                                    <div class="col-md-4">

                                        <img src="~/RequiredDocs/@item.PictureOfProjectTwo" height="100" width="100" />
                                        <label>फोटो-२</label>
                                    </div>
                                </a>
                            }
                            if (!string.IsNullOrEmpty(item.PictureOfProjectThree))
                            {
                                <a href="~/RequiredDocs/@item.PictureOfProjectThree" target="_blank">

                                    <div class="col-md-4">

                                        <img src="~/RequiredDocs/@item.PictureOfProjectThree" height="100" width="100" />
                                        <label>फोटो-३</label>
                                    </div>
                                </a>
                            }
                        }

                    </div>
                    <hr />

                    <div class="clearfix"></div>
                    <div class="row">
                        <div class="form-group">

                            @if (ViewBag.ProgressReportSearchId == 1)
                            {
                                <div class="text-right">
                                    @Html.ActionLink("मुख्य सूचि", "SearchProgressRptProvinceWise", "Reports", null, new { @class = "btn btn-danger" })
                                </div>

                            }
                            else
                            {
                                <div class="text-right">
                                    @Html.ActionLink("मुख्य सूचि", "DetailsSearchProgressReport", "Reports", null, new { @class = "btn btn-danger" })
                                </div>

                            }
                        </div>

                    </div>

                </div>

            </div>
        </div>
    </div>

</section>
