@model GrantApp.Models.AnusuchiViewModel

@{
    ViewBag.Title = "GenerateAnusuchi2";
    Layout = "~/Areas/VDCMUNLevel/Views/Shared/_VDCMUNLayout.cshtml";
}

<style>
    body {
        font-family: 'Muktinarrow', Arial, sans-serif;
        background-color: #f8f9fa;
    }

    .document {
        background: #fff;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        margin: 20px auto;
        max-width: 900px;
    }

    .header {
        text-align: center;
        font-weight: bold;
        font-size: 22px;
        margin-bottom: 15px;
    }

    .sub-header {
        text-align: center;
        font-size: 18px;
        margin-bottom: 20px;
    }

    .content p {
        text-align: justify;
        line-height: 1.8;
    }

    .table th, .table td {
        text-align: center;
        vertical-align: middle;
    }

    .signature-section {
        margin-top: 30px;
    }

    .signature-box {
        border-top: 2px solid #000;
        padding-top: 5px;
        text-align: center;
        font-weight: bold;
        margin-top: 20px;
    }

    .print-btn {
        text-align: center;
        margin: 10px 0;
    }

    @@page {
    size: A4;  /* Adjust to your required paper size */
    margin: 20mm 15mm 20mm 15mm; /* Top, Right, Bottom, Left */
}
    /* PRINT CSS */
    @@media print {
        .print-btn,
        .main-footer { /* Assuming your footer has a class named "footer" */
            display: none !important;
        }

        #PrintAnusuchi {
            width: 100%;
        }

        /* Ensure signatures and sections are aligned */
        .signature-section {
            display: flex !important;
            flex-direction: row !important;
            justify-content: space-between;
        }

        .signature-section .col-md-6 {
            width: 48%;
            display: inline-block;
            vertical-align: top;
        }
    }
</style>


<div class="card-body">



    <div class="container" id="PrintAnusuchi">
        <div class="document">
            <div class="header">अनुसूची - २</div>
            <div class="sub-header">(दफा ४ को उपदफा (७) खण्ड (ग) सँग सम्बन्धित)</div>
            <h4 class="text-center">समपूरक अनुदानको लागि शर्त पूरा भएको प्रमाणित गर्ने फाराम</h4>

            <p><strong>प्रदेश सरकार/स्थानीय तह:</strong> @Model.OfficeName</p>
            <p><strong>ठेगाना:</strong> ..................................</p>
            <h5 class="mt-4"> समपूरक अनुदानमा कार्यान्वयन गरिने आयोजना वा कार्यक्रमको नाम र प्राथमिकताक्रम:</h5>

            <table class="table table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>क्र.स.</th>
                        <th>आयोजनाको नाम</th>
                        <th>प्राथमिकताक्रम</th>
                        <th>नयाँ/क्रमागत</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null && Model.AnusuchiData != null && Model.AnusuchiData.Any())
                    {
                        int serialNumber = 1;
                        foreach (var item in Model.AnusuchiData)
                        {
                            <tr>
                                <td>@serialNumber</td>
                                <td>@item.AyojanaName</td>
                                <td>
                                    @if (item.Priority > 0)
                                    {
                                        @CommontUtilities.GetNepaliOrdinal(item.Priority)

                                    }
                                    else
                                    {
                                        <text>@item.PhaseTypeName</text>
                                    }
                                </td>
                                <td>@item.PhaseTypeName</td>
                            </tr>
                            serialNumber++;
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="4" class="text-center">डाटा उपलब्ध छैन</td>
                        </tr>
                    }
                </tbody>

            </table>

            <p>१) आयोजना वा कार्यक्रमको कूल लागत निर्धारित सीमाभित्र रहेको।</p>
            <p>२) आयोजना वा कार्यक्रम कार्यान्वयनका लागि भौतिक क्षमता तथा जनशक्तिको उपलब्धता रहेको।</p>
            <p>३) आयोजना वा कार्यक्रम स्थानीय तहको आयोजना बैंक तथा मध्यमकालिन खर्च संरचनामा समावेश भएको।</p>
            <p>४) आयोजना वा कार्यक्रमको ड्रइङ, डिजाइन, स्पेशिफिकेशन सहितको विस्तृत लागत अनुमान स्वीकृत भएको।</p>
            <p>५) आयोजना वा कार्यक्रमको प्रचलित कानून बमोजिम वातावरणीय अध्ययन प्रतिवेदन स्वीकृत भएको।</p>
            <p>६) दश करोडभन्दा माथि लागत अनुमान भएका आयोजना वा कार्यक्रमको हकमा विस्तृत परियोजना प्रतिवेदन तयार स्वीकृत भएको।</p>
            <p>७) आयोजना वा कार्यक्रमको कार्यान्वयन कार्ययोजना तयार भएको।</p>
            <p>८) नेपाल सरकारले कार्यान्वयन गर्ने वा प्रदेशले कार्यान्वयन गरिरहेका र स्थानीय तहले आफ्नै वा अन्य स्रोतबाट कार्यान्वयन गर्ने आयोजना वा कार्यक्रमसँग दोहोरो नपरेको।</p>
            <p>९) क्रमागत आयोजना सहित स्थानीय तहको हकमा अधिकतम तीन वटासम्म तथा प्रदेश सरकारको हकमा अधिकतम दशवटासम्म आयोजना वा कार्यक्रमहरू प्रस्ताव गरिएको।</p>
            <p>१०) क्रमागत तथा नयाँ आयोजना वा कार्यक्रम प्रस्ताव गर्नका लागि आयोजना वा कार्यक्रमको प्राथमिकीकरण विवरण (स्थानीय तहको हकमा सम्बन्धित कार्यपालिकाको निर्णय तथा प्रदेशको हकमा सम्बन्धित प्रदेश योजना आयोगको सिफारिशमा प्रदेश सरकार मन्त्रिपरिषदको निर्णय) भएको।</p>
            <p>११) आयोजना वा कार्यक्रमको अनुगमन तथा मूल्याङ्कन व्यवस्था सुनिश्चित भएको।</p>
            <p>१२) आयोजना वा कार्यक्रमको दिगोपनको सन्दर्भमा व्यवस्थापन तथा संचालन सुनिश्चितता भएको।</p>
            <p>१३) आयोजना वा कार्यक्रमका लागि आवश्यक पर्ने जग्गा प्राप्त भएको।</p>
            <p>१४) आयोजना वा कार्यक्रमको निर्माणस्थलको निर्माण स्थल तयारी (Site Clearance) भएको।</p>


            <h5 class="mt-4"> आयोजना वा कार्यक्रम प्रस्तावसँग सम्बन्धित माथिका शर्तहरु पूरा भएको प्रमाणित गर्दछु।</h5>
            <div class="row signature-section">
                <div class="col-md-6">
                    <p>तयार गर्नेको,</p>
                    <p>नाम थरः</p>
                    <p>पद:</p>
                    <p>दस्तखत:</p>
                    <p>मिति:</p>
                </div>
                <div class="col-md-6">
                    <p>प्रमाणित गर्नेको नाम:</p>
                    <p>नाम थरः</p>
                    <p>पद:</p>
                    <p>दस्तखत:</p>
                    <p>मिति:</p>
                </div>
            </div>

            <h5 class="mt-4"> प्रमाणित गरिएबमोजिम योजना आयोगको समपूरक अनुदान प्रणालीमा प्रविष्टि गर्ने कर्मचारीको,-</h5>
            <div class="row">
                <div class="col-md-6">
                    <p class="">नाम थर:</p>
                    <p>पद:</p>
                    <p>दस्तखत:</p>
                    <p>प्रविष्टि मिति:</p>
                </div>
                <div class="col-md-6 text-center">
                    <p class=""></p>
                    <p></p>

                    <p>कार्यालयको छाप</p>
                </div>
            </div>



            <p> (१) प्रदेशको हकमा तयार गर्ने महलमा प्रदेश सरकारको मुख्यमन्त्री तथा मन्त्रिपरिषद्को कार्यालय (योजना महाशाखा प्रमुख) , प्रमाणित गर्ने महलमा प्रमुख सचिव र प्रविष्टि गर्ने महलमा आयोजना वा कार्यक्रम समपूरक अनुदान प्रणालीमा प्रविष्टि गर्ने कर्मचारीको नाम, पद र दस्तखत गर्नुपर्नेछ। </p>
            <p> (२) स्थानीय तहको हकमा तयार गर्ने महलमा प्रमुख प्रशासकीय अधिकृतको र प्रमाणित गर्ने महलमा सम्बन्धित गाउँपालिकाको अध्यक्ष वा नगरपालिकाको प्रमुख र प्रविष्टि गर्ने महलमा आयोजना वा कार्यक्रम समपूरक अनुदान प्रणालीमा प्रविष्टी गर्ने कर्मचारीको नाम, पद र दस्तखत गर्नुपर्नेछ। </p>



            <div class="print-btn">
                <button class="btn btn-primary" onclick="printAndRedirect()">🖨️ प्रिन्ट गर्नुहोस्</button>
            </div>

         


        </div>
    </div>





</div>

<script>
    function printAndRedirect() {
        window.print();

		var id = 2;
		var dynamicUrl = '@Url.Action("FormEntry", "Grant")' + '/' + id;


        window.onafterprint = function () {
          	window.location.href = dynamicUrl;
        };
    }
</script>